<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/mainLayout :: layout (~{::body},'login')}">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
<body>
<div class="container-fluid text-center">
<form class="form-signin" th:action="@{/login}" method="post" style="max-width: 350px; margin: 0 auto;">
    <div class="border border-secondary p-3 rounded">
    <br>
    <br>
    <h2 class="form-signin-heading">Please Sign In</h2>
    <div>
        <input id="username" name="username" type="text" class="form-control" placeholder="Username"/>
    </div>
    <br>
    <div>
        <input  id="password" name="password" type="password" class="form-control" placeholder="Password"/>
    </div>
    <br>
    <button class="btn btn-primary" id="btnSave" type="submit" >Sign In</button><br/>
    </div>
</form>
</div>
<script>
    function signin() {
        axios.post('http://localhost:8080/login', {
            username: this.username,
            password: this.password,
        })
            .then((response) => {
                console.log("response");
                let token = response.data.access;
                localStorage.setItem("SavedToken", 'Bearer ' + token);
                axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;
                (this.$router.push({name: 'home'}));

            })
    }
</script>

</body>
</html>